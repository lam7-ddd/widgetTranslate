# Widget Translate

ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¿»è¨³ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆ - Google Cloud Translation APIã‚’ä½¿ç”¨ã—ãŸJavaScriptåŸ‹ã‚è¾¼ã¿å‹ç¿»è¨³ã‚·ã‚¹ãƒ†ãƒ 

## æ¦‚è¦

Widget Translateã¯ã€ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«ç°¡å˜ã«åŸ‹ã‚è¾¼ã‚€ã“ã¨ãŒã§ãã‚‹ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¿»è¨³ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã§ã™ã€‚Google Cloud Translation APIã‚’ä½¿ç”¨ã—ã¦ã€ãƒšãƒ¼ã‚¸ä¸Šã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ç¬æ™‚ã«å¤šè¨€èªã«ç¿»è¨³ã—ã¾ã™ã€‚

## ä¸»ãªæ©Ÿèƒ½

- ğŸŒ **ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç¿»è¨³**: ãƒšãƒ¼ã‚¸ä¸Šã®ãƒ†ã‚­ã‚¹ãƒˆã‚’ç¬æ™‚ã«ç¿»è¨³
- ğŸ¯ **å¤šè¨€èªã‚µãƒãƒ¼ãƒˆ**: è‹±èªã€ä¸­å›½èªã€éŸ“å›½èªã€ã‚¹ãƒšã‚¤ãƒ³èªãªã©ä¸»è¦è¨€èªã«å¯¾å¿œ
- ğŸ”„ **å‹•çš„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„å¯¾å¿œ**: MutationObserverã«ã‚ˆã‚‹æ–°ã—ã„ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®è‡ªå‹•æ¤œå‡º
- ğŸ’¾ **ã‚­ãƒ£ãƒƒã‚·ãƒ¥æ©Ÿèƒ½**: ç¿»è¨³çµæœã‚’ãƒ­ãƒ¼ã‚«ãƒ«ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã«ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã—ã¦ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å‘ä¸Š
- ğŸ¨ **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**: ãƒ¢ãƒã‚¤ãƒ«ãƒ‡ãƒã‚¤ã‚¹ã«ã‚‚å¯¾å¿œ
- ğŸŒ™ **ãƒ€ãƒ¼ã‚¯ãƒ¢ãƒ¼ãƒ‰å¯¾å¿œ**: ã‚·ã‚¹ãƒ†ãƒ ã®è¨­å®šã«å¿œã˜ã¦è‡ªå‹•åˆ‡ã‚Šæ›¿ãˆ
- ğŸ”’ **ã‚»ã‚­ãƒ¥ã‚¢**: APIã‚­ãƒ¼ã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ç®¡ç†

## ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹æˆ

```
widgetTranslate/
â”œâ”€â”€ server/                 # Node.js ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ index.js           # ãƒ¡ã‚¤ãƒ³ã‚µãƒ¼ãƒãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ routes/            # APIãƒ«ãƒ¼ãƒˆ
â”‚   â”‚   â”œâ”€â”€ translation.js # ç¿»è¨³API
â”‚   â”‚   â””â”€â”€ widget.js      # ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆç®¡ç†
â”‚   â””â”€â”€ middleware/        # ãƒŸãƒ‰ãƒ«ã‚¦ã‚§ã‚¢
â”‚       â””â”€â”€ static.js      # é™çš„ãƒ•ã‚¡ã‚¤ãƒ«é…ä¿¡
â”œâ”€â”€ client/                # ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰
â”‚   â”œâ”€â”€ widget.js          # ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆJavaScript
â”‚   â””â”€â”€ widget.css         # ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã‚¹ã‚¿ã‚¤ãƒ«
â”œâ”€â”€ public/                # ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ test/                  # ãƒ†ã‚¹ãƒˆãƒ»ãƒ‡ãƒ¢ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ demo.html          # ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸
â””â”€â”€ package.json           # ä¾å­˜é–¢ä¿‚
```

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### 1. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install
```

### 2. ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

`.env.example`ã‚’`.env`ã«ã‚³ãƒ”ãƒ¼ã—ã¦ã€å¿…è¦ãªå€¤ã‚’è¨­å®šã—ã¦ãã ã•ã„ï¼š

```bash
cp .env.example .env
```

### 3. Google Cloud Translation API ã®è¨­å®š

1. [Google Cloud Console](https://console.cloud.google.com/)ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
2. Translation APIã‚’æœ‰åŠ¹åŒ–
3. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã‚’ä½œæˆã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
4. `.env`ãƒ•ã‚¡ã‚¤ãƒ«ã«è¨­å®šã‚’è¿½åŠ 

### 4. ã‚µãƒ¼ãƒãƒ¼èµ·å‹•

```bash
# é–‹ç™ºç’°å¢ƒ
npm run dev

# æœ¬ç•ªç’°å¢ƒ
npm start
```

### 5. ãƒ‡ãƒ¢ãƒšãƒ¼ã‚¸ã®ç¢ºèª

ãƒ–ãƒ©ã‚¦ã‚¶ã§ `http://localhost:3000/test/demo.html` ã‚’é–‹ã„ã¦ãƒ‡ãƒ¢ã‚’ç¢ºèªã§ãã¾ã™ã€‚

## ä½¿ç”¨æ–¹æ³•

### ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆã®åŸ‹ã‚è¾¼ã¿

1. ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆç™»éŒ²APIã‚’å‘¼ã³å‡ºã—ã¦ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆIDã‚’å–å¾—
2. ç”Ÿæˆã•ã‚ŒãŸåŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ã‚’ã‚¦ã‚§ãƒ–ã‚µã‚¤ãƒˆã«è¿½åŠ 

```html
<!-- Widget Translate åŸ‹ã‚è¾¼ã¿ã‚³ãƒ¼ãƒ‰ -->
<script>
  (function() {
    var widgetId = 'your-widget-id';
    var apiUrl = 'https://your-domain.com/api';
    
    var script = document.createElement('script');
    script.src = 'https://your-domain.com/widget.js?id=' + widgetId;
    script.async = true;
    script.onload = function() {
      if (typeof WidgetTranslate !== 'undefined') {
        new WidgetTranslate({
          widgetId: widgetId,
          apiUrl: apiUrl
        });
      }
    };
    document.head.appendChild(script);
    
    var link = document.createElement('link');
    link.rel = 'stylesheet';
    link.href = 'https://your-domain.com/widget.css';
    document.head.appendChild(link);
  })();
</script>
```

## API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ

### ç¿»è¨³API

- `GET /api/translate/languages` - ã‚µãƒãƒ¼ãƒˆè¨€èªä¸€è¦§å–å¾—
- `POST /api/translate/text` - ãƒ†ã‚­ã‚¹ãƒˆç¿»è¨³
- `POST /api/translate/detect` - è¨€èªæ¤œå‡º

### ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆç®¡ç†API

- `POST /api/widget/register` - ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆç™»éŒ²
- `GET /api/widget/:widgetId` - ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆæƒ…å ±å–å¾—
- `GET /api/widget` - ã‚¦ã‚£ã‚¸ã‚§ãƒƒãƒˆä¸€è¦§å–å¾—

## é–‹ç™º

### ãƒ“ãƒ«ãƒ‰

```bash
# ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ“ãƒ«ãƒ‰
npm run build

# é–‹ç™ºãƒ¢ãƒ¼ãƒ‰ã§ã®ã‚¦ã‚©ãƒƒãƒãƒ“ãƒ«ãƒ‰
npm run dev:client
```

### ãƒ†ã‚¹ãƒˆ

```bash
npm test
```

## ãƒ©ã‚¤ã‚»ãƒ³ã‚¹

MIT License

## ã‚µãƒãƒ¼ãƒˆ

å•é¡Œã‚„è³ªå•ãŒã‚ã‚‹å ´åˆã¯ã€GitHubã®Issuesãƒšãƒ¼ã‚¸ã§ãŠçŸ¥ã‚‰ã›ãã ã•ã„ã€‚
